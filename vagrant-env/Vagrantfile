# encoding: utf-8
# -*- mode: ruby -*-
# vi: set ft=ruby :
# Box / OS
VAGRANT_BOX = 'peru/ubuntu-18.04-desktop-amd64' #'bento/ubuntu-18.04'
# Box / OS version
VAGRANT_BOX_VERSION = '20190901.01'
# Memorable name for your
VM_NAME = 'e-shop-microk8s-ubuntu'
# VM User — 'vagrant' by default
VM_USER = 'vagrant'
# Sync Folder name
SYNC_FOLDER_NAME = 'microk8s-ubuntu-shared-folder'
# Host folder to sync
HOST_PATH = 'D:/Tutorials/Dev'
# Where to sync to on Guest — 'vagrant' is the default user name
GUEST_PATH = '/home/' + VM_USER + '/' + SYNC_FOLDER_NAME

Vagrant.configure('2') do |config|
  config.vm.box = VAGRANT_BOX
  config.vm.box_version = VAGRANT_BOX_VERSION
  config.vm.hostname = VM_NAME
  
  # Sync folder
  #config.vm.synced_folder HOST_PATH, GUEST_PATH
  # Disable default Vagrant folder, use a unique path per project
  #config.vm.synced_folder '.', '/home/'+VM_USER+'', disabled: true

  config.vm.synced_folder '.', '/vagrant', disabled: true

  config.vm.provider 'virtualbox' do |v|
    v.name = VM_NAME
    v.memory = 10240 # 10GB
    v.cpus = 3
    v.gui = true

  	v.customize ["modifyvm", :id, "--vram", "128"]
  	#v.customize ["modifyvm", :id, "--accelerate3d", "on"]
  end
  
  config.vm.provision "shell", path: "vagrant-provision-script.sh"
end